<div class="container-fluid mt-4">
    <div class="row">
        <div class="col-md-9 border-right min-vh-100">
            <div class="container-fluid p-4" style="border-radius: 12px;">
                <!-- Tiêu đề danh mục -->
                <div class="text-center mb-4">
                    <h1
                        style="color: #0056b3; font-weight: bold; margin-bottom: 10px; font-size: 3rem; text-transform: uppercase; letter-spacing: 1.5px;">
                        {{title}}
                    </h1>
                    <p class="text-center"
                        style="color: #343a40; font-size: 1.2rem; margin: 0; font-style: italic; text">
                        {{description}}
                    </p>
                </div>
                <!-- Hiển thị thông báo nếu không có bài viết -->
                {{#if this.empty}}
                <div class="alert alert-warning text-center mt-4 p-3 rounded">Hiện chưa có bài viết trong chuyên mục này.</div>
                {{/if}}

                <!-- Danh sách bài viết -->
                {{#each articles}}
                <a href="/articles?id={{this.id}}" class="text-decoration-none">
                    <div class="card mt-4 border shadow-sm">
                        <div class="row no-gutters">
                            <!-- Hình ảnh -->
                            <div class="col-md-4 d-flex align-items-center">
                                <img src="{{this.thumbnail}}" alt="thumbnail bài báo" class="card-img"
                                    style="height: 180px; object-fit: cover; border-radius: 10px;">
                            </div>
                            <!-- Nội dung -->
                            <div class="col-md-8">
                                <div class="card-body" style ="min-height: 180px;">
                                    <h5 class="card-title font-weight-bold text-primary">{{limitCharacters this.title
                                        50}}
                                    </h5>
                                    <p class="card-text text-secondary mb-2">{{limitCharacters this.abstract 100}}</p>
                                    <p class="card-text position-absolute" style="bottom: 10px; right: 20px;">
                                        <small class="text-muted">{{formatDate this.published_at}}</small>
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                </a>
                {{/each}}

                <!-- Phân trang -->
                {{#if (gt pagination.totalPages 1)}}
                <nav class="mt-4" aria-label="Page navigation">
                    <ul class="pagination justify-content-center">

                        <!-- Nút Previous -->
                        {{#if (gt pagination.currentPage 1)}}
                        <li class="page-item">
                            <a class="page-link"
                                href="/category/{{ID}}?page={{getPrevious pagination.currentPage}}"
                                aria-label="Previous">
                                <span aria-hidden="true">&laquo;</span>
                            </a>
                        </li>
                        {{else}}
                        <li class="page-item disabled">
                            <a class="page-link" href="#" aria-label="Previous">
                                <span aria-hidden="true">&laquo;</span>
                            </a>
                        </li>
                        {{/if}}

                        <!-- Hiển thị các trang -->
                        {{#each (range 1 pagination.totalPages) as |page|}}
                        <li class="page-item {{#if (eq page ../pagination.currentPage)}}active{{/if}}">
                            <a class="page-link {{#if (eq page ../pagination.currentPage)}}text-white bg-primary{{/if}}"
                                href="/category/{{../ID}}?page={{page}}">
                                {{page}}
                            </a>
                        </li>
                        {{/each}}

                        <!-- Nút Next -->
                        {{#if (lt pagination.currentPage pagination.totalPages)}}
                        <li class="page-item">
                            <a class="page-link"
                                href="/category/{{ID}}?page={{getNext pagination.currentPage}}"
                                aria-label="Next">
                                <span aria-hidden="true">&raquo;</span>
                            </a>
                        </li>
                        {{else}}
                        <li class="page-item disabled">
                            <a class="page-link" href="#" aria-label="Next">
                                <span aria-hidden="true">&raquo;</span>
                            </a>
                        </li>
                        {{/if}}

                    </ul>
                </nav>
                {{/if}}
            </div>


        </div>
        <!-- Phần sidebar (nếu có) -->
        <div class="col-md-3 bg-light p-4">
            <h5 class="font-weight-bold">Sidebar</h5>
            <p>Phần nội dung bên cạnh (nếu cần).</p>
        </div>
    </div>
    <div class="pb-2"></div>